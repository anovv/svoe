tasks:
  task_1:
    operator: svoe_airflow.operators.featurizer_operator.FeaturizerOperator
    args:
      cluster_config:
        user_id: '1'
        cluster_name: 'test_cluster'
        is_minikube: True
        enable_autoscaling: False
        head_cpu: 1
        head_memory: '500m'
        worker_groups:
          - group_name: 'test_worker_group'
            replicas: 4
            min_replicas: 4
            max_replicas: 4
            cpu: 1
            memory: '500m'
            ray_resources: {}
      cleanup_cluster: True
      featurizer_config:
        start_date: '2023-02-01'
        end_date: '2023-02-01'
        label_feature_index: 0
        label_lookahead: '5100ms'
        feature_configs:
          - feature_definition: mid_price.mid_price_fd
            data_params: &id001
              - exchange: BINANCE
                data_type: l2_book
                instrument_type: spot
                symbol: BTC-USDT
            feature_params:
              1:
                dep_schema: cryptotick
                sampling: 1s
          - feature_definition: volatility.volatility_stddev_fd
            data_params: *id001
            feature_params:
              2:
                dep_schema: cryptotick
                sampling: 1s
  task_2:
    operator: airflow.operators.bash_operator.BashOperator
    bash_command: "echo 2"
    dependencies: [task_1]
  task_3:
    operator: airflow.operators.bash_operator.BashOperator
    bash_command: "echo 3"
    dependencies: [task_1]